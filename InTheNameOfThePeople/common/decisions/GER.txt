#Category only allowed for GER

GER_south_german_unrest = {
	GER_south_uprising = {
		
		icon = GFX_decision_icon_default
		days_mission_timeout = 180
		is_good = yes
		
		available = {
			always = no
		}
		
		fire_only_once = yes
		
		visible = {
			original_tag = GER
			 NOT = {has_war = yes}
		}
		activation = {
			original_tag = GER
		}
		
		ai_will_do = {
			factor = 0
		}
		
		timeout_effect = {
			country_event = germany.2
			hidden_effect  = {
				SWF = {
					add_state_core = 56
					add_state_core = 59
					add_state_core = 1013
				}
			}
		}
	}

	
	fix_unrest_south_germany1 = {
		
		icon = GFX_decision_icon_default				
		highlight_states = {
			highlight_state_targets = { state = 50 } 
		}
		on_map_mode = map_only
		
		
		fire_only_once = yes		
		#days_re_enable = 10
		days_remove = 50	
		available = {
			original_tag = GER
			not = {
				has_decision = fix_unrest_south_germany2
				has_decision = fix_unrest_south_germany3
				has_decision = fix_unrest_south_germany4
			}
			ROOT = {has_idea = south_german_devide }
		}
		
		allowed = {
			original_tag = GER
		}	
		visible = {		
			original_tag = GER
			 NOT = {has_war = yes}
		}		

		cost = 30	

		remove_effect = {		
			if = {
				limit = {
					NOT = {
					has_idea = fix_south_german_unrest1
					has_idea = fix_south_german_unrest2
					has_idea = fix_south_german_unrest3
					has_idea = fix_south_german_unrest4
					}
				}			   
				add_ideas = fix_south_german_unrest1
			}
			else_if = {
				limit = {
					has_idea = fix_south_german_unrest1
				}
				swap_ideas = {
					remove_idea = fix_south_german_unrest1
					add_idea = fix_south_german_unrest2
				}
			}
			else_if = {
				limit = {
					has_idea = fix_south_german_unrest2
				}
				swap_ideas = {
					remove_idea = fix_south_german_unrest2
					add_idea = fix_south_german_unrest3
				}
			}
			else_if = {
				limit = {
					has_idea = fix_south_german_unrest3
				}
				swap_ideas = {
					remove_idea = fix_south_german_unrest3
					add_idea = fix_south_german_unrest4
				}
			}
		}
		
		ai_will_do = {	
			factor = 100
		}
	}
	
	fix_unrest_south_germany2 = {
		
		icon = GFX_decision_icon_default				
		highlight_states = {
			highlight_state_targets = { state = 54 } 
		}
		on_map_mode = map_only
		
		
		fire_only_once = yes		
		#days_re_enable = 10
		days_remove = 50	
		available = {
			original_tag = GER
			not = {
				has_decision = fix_unrest_south_germany1
				has_decision = fix_unrest_south_germany3
				has_decision = fix_unrest_south_germany4
			}
			ROOT = {has_idea = south_german_devide }
		}
		
		allowed = {
			original_tag = GER
		}	
		visible = {		
			original_tag = GER
			 NOT = {has_war = yes}
		}		

		cost = 30	

		remove_effect = {		
			if = {
				limit = {
					NOT = {
					has_idea = fix_south_german_unrest1
					has_idea = fix_south_german_unrest2
					has_idea = fix_south_german_unrest3
					has_idea = fix_south_german_unrest4
					}
				}			   
				add_ideas = fix_south_german_unrest1
			}
			else_if = {
				limit = {
					has_idea = fix_south_german_unrest1
				}
				swap_ideas = {
					remove_idea = fix_south_german_unrest1
					add_idea = fix_south_german_unrest2
				}
			}
			else_if = {
				limit = {
					has_idea = fix_south_german_unrest2
				}
				swap_ideas = {
					remove_idea = fix_south_german_unrest2
					add_idea = fix_south_german_unrest3
				}
			}
			else_if = {
				limit = {
					has_idea = fix_south_german_unrest3
				}
				swap_ideas = {
					remove_idea = fix_south_german_unrest3
					add_idea = fix_south_german_unrest4
				}
			}
		}
		
		ai_will_do = {	
			factor = 100
		}
	}
	
	fix_unrest_south_germany3 = {
		
		icon = GFX_decision_icon_default				
		highlight_states = {
			highlight_state_targets = { state = 52 } 
		}
		on_map_mode = map_only
		
		
		fire_only_once = yes		
		#days_re_enable = 10
		days_remove = 50	
		available = {
			original_tag = GER
			not = {
				has_decision = fix_unrest_south_germany2
				has_decision = fix_unrest_south_germany1
				has_decision = fix_unrest_south_germany4
			}
			ROOT = {has_idea = south_german_devide }
		}
		
		allowed = {
			original_tag = GER
		}	
		visible = {		
			original_tag = GER
			 NOT = {has_war = yes}
		}		

		cost = 30	

		remove_effect = {		
			if = {
				limit = {
					NOT = {
					has_idea = fix_south_german_unrest1
					has_idea = fix_south_german_unrest2
					has_idea = fix_south_german_unrest3
					has_idea = fix_south_german_unrest4
					}
				}			   
				add_ideas = fix_south_german_unrest1
			}
			else_if = {
				limit = {
					has_idea = fix_south_german_unrest1
				}
				swap_ideas = {
					remove_idea = fix_south_german_unrest1
					add_idea = fix_south_german_unrest2
				}
			}
			else_if = {
				limit = {
					has_idea = fix_south_german_unrest2
				}
				swap_ideas = {
					remove_idea = fix_south_german_unrest2
					add_idea = fix_south_german_unrest3
				}
			}
			else_if = {
				limit = {
					has_idea = fix_south_german_unrest3
				}
				swap_ideas = {
					remove_idea = fix_south_german_unrest3
					add_idea = fix_south_german_unrest4
				}
			}
		}
		
		ai_will_do = {	
			factor = 100
		}
	}
	
	fix_unrest_south_germany4 = {
		
		icon = GFX_decision_icon_default				
		highlight_states = {
			highlight_state_targets = { state = 53 } 
		}
		on_map_mode = map_only
		
		
		fire_only_once = yes		
		days_re_enable = 10
		days_remove = 50	
		available = {
			original_tag = GER
			not = {
				has_decision = fix_unrest_south_germany2
				has_decision = fix_unrest_south_germany1
				has_decision = fix_unrest_south_germany3
			}
			ROOT = {has_idea = south_german_devide }
		}
		
		allowed = {
			original_tag = GER
			
		}	
		visible = {		
			original_tag = GER
			 NOT = {has_war = yes}
		}		

		cost = 30	

		remove_effect = {		
			if = {
				limit = {
					NOT = {
					has_idea = fix_south_german_unrest1
					has_idea = fix_south_german_unrest2
					has_idea = fix_south_german_unrest3
					has_idea = fix_south_german_unrest4
					}
				}			   
				add_ideas = fix_south_german_unrest1
			}
			else_if = {
				limit = {
					has_idea = fix_south_german_unrest1
				}
				swap_ideas = {
					remove_idea = fix_south_german_unrest1
					add_idea = fix_south_german_unrest2
				}
			}
			else_if = {
				limit = {
					has_idea = fix_south_german_unrest2
				}
				swap_ideas = {
					remove_idea = fix_south_german_unrest2
					add_idea = fix_south_german_unrest3
				}
			}
			else_if = {
				limit = {
					has_idea = fix_south_german_unrest3
				}
				swap_ideas = {
					remove_idea = fix_south_german_unrest3
					add_idea = fix_south_german_unrest4
				}
			}
		}
		
		ai_will_do = {	
			factor = 100
		}
	}
	
	GER_split_in_the_party = {
		
		icon = GFX_decision_icon_default
		days_mission_timeout = 60
		is_good = yes
		
		available = {
			OR = {
				NOT = { country_exists = BAV }
				NOT = { country_exists = PRS }
			}
		}
		
		fire_only_once = yes
		
		visible = {
			original_tag = GER
			 has_war = yes
			 has_country_flag = GER_german_civil_war
		}
		activation = {
			original_tag = GER
			has_country_flag = GER_german_civil_war
		}
		
		ai_will_do = {
			factor = 0
		}
		
		timeout_effect = {
			country_event = germany.6
		}
	}
}
	
	GER_our_european_reich2 = {
		GER_reichskommissariat_norway = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_our_european_reich
			has_government = fascism
			controls_state = 110
			controls_state = 142
			controls_state = 143
			controls_state = 144
			controls_state = 920
			controls_state = 921
			controls_state = 922
			controls_state = 923
			controls_state = 924
			controls_state = 925
		}

		cost = 0
		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			NOT = { has_aat = yes }
			has_completed_focus = GER_our_european_reich
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = NOR
					NOT = { NOR = { has_government = fascism } }
				}
				hidden_effect = {
					NOR = {
						set_state_controller = 110
						set_state_controller = 142
						set_state_controller = 143
						set_state_controller = 144
						set_state_controller = 914
						set_state_controller = 920
						set_state_controller = 921
						set_state_controller = 922
						set_state_controller = 923
						set_state_controller = 924
						set_state_controller = 925
					}
				}
				NOR = {
					start_civil_war = {
						ideology = fascism
						size = 1
						transfer_state = 110
						transfer_state = 142
						transfer_state = 143
						transfer_state = 144
						transfer_state = 914
						transfer_state = 920
						transfer_state = 921
						transfer_state = 922
						transfer_state = 923
						transfer_state = 924
						transfer_state = 925
						GER = {
							puppet = PREV
							set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
						}
						set_cosmetic_tag = NOR_GER_fascism
						create_country_leader = {
							name = "Josef Terboven"
							desc = "POLITICS_JOSEF_TERBOVEN_DESC"
							picture = GFX_portrait_Josef_Terboven
							expire = "1965.1.1"
							ideology = nazism
							traits = {
							}
						}
					}
				}
			}
			else = {
				NOR = {
					transfer_state = 110
					transfer_state = 142
					transfer_state = 143
					transfer_state = 144
					transfer_state = 920
					transfer_state = 921
					transfer_state = 922
					transfer_state = 923
					transfer_state = 924
					transfer_state = 925
					if = {
						limit = {
							GER = {
								controls_state = 914
							}
						}
						transfer_state = 914
					}
					set_cosmetic_tag = NOR_GER_fascism
					create_country_leader = {
						name = "Josef Terboven"
						desc = "POLITICS_JOSEF_TERBOVEN_DESC"
						picture = GFX_portrait_Josef_Terboven
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
				}
				set_autonomy = { target = NOR autonomy_state = autonomy_integrated_puppet }
			}
		}
	}
	
	GER_reichskommissariat_lowlands = {

		icon = ger_reichskommissariats

		available = {
			has_completed_focus = GER_our_european_reich
			has_government = fascism
			controls_state = 7
			controls_state = 35
			controls_state = 36
			
			controls_state = 6
			controls_state = 34
			controls_state = 1016
			controls_state = 1005
			controls_state = 29
		}

		cost = 0

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				ENG = { has_capitulated = yes }
			}
		}

		visible = {
			has_completed_focus = GER_our_european_reich
			has_government = fascism
		}

		complete_effect = {
			if = {
				limit = {
					country_exists = HOL
					NOT = { HOL = { has_government = fascism } }
				}

						
				hidden_effect = {
					HOL = {
						set_state_controller = 7
						set_state_controller = 35
						set_state_controller = 36
						
						set_state_controller = 6
						set_state_controller = 34
						set_state_controller = 1016
						set_state_controller = 1005
						set_state_controller = 29
						
						add_state_core = 6
						add_state_core = 34
						add_state_core = 1016
						add_state_core = 1005
						add_state_core = 29
					}
				}
				HOL = {
					start_civil_war = { ideology = fascism size = 1 }
				}
				random_country = {
					limit= {
						original_tag = HOL
						has_government = fascism
					}
					transfer_state = 7
					transfer_state = 35
					transfer_state = 36
					
					transfer_state = 6
					transfer_state = 34
					transfer_state = 1016
					transfer_state = 1005
					transfer_state = 29
					
						add_state_core = 6
						add_state_core = 34
						add_state_core = 1016
						add_state_core = 1005
						add_state_core = 29
					GER = {
						puppet = PREV
						set_autonomy = { target = PREV autonomy_state = autonomy_integrated_puppet }
					}

					set_cosmetic_tag = HOL_reichskommissariat
					create_country_leader = {
						name = "Arthur Seyss-Inquart"
						desc = "POLITICS_ARTHUR_SEYSS_INQUART_DESC"
						picture = GFX_portrait_Arthur_Seyss_Inquart
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
				}
			}
			else = {
				HOL = {
					transfer_state = 7
					transfer_state = 35
					transfer_state = 36
					transfer_state = 6
					transfer_state = 34
					transfer_state = 1016
					transfer_state = 1005
					transfer_state = 29
					
						add_state_core = 6
						add_state_core = 34
						add_state_core = 1016
						add_state_core = 1005
						add_state_core = 29
						
					set_cosmetic_tag = HOL_reichskommissariat
					create_country_leader = {
						name = "Arthur Seyss-Inquart"
						desc = "POLITICS_ARTHUR_SEYSS_INQUART_DESC"
						picture = GFX_portrait_Arthur_Seyss_Inquart
						expire = "1965.1.1"
						ideology = nazism
						traits = {
						}
					}
				}
				set_autonomy = { target = HOL autonomy_state = autonomy_integrated_puppet }
				}
			}
		}
	}